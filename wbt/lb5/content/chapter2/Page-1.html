---
title: "Layout-Fragen"  # Titel der Seite
weight: 201  # Individuelles Gewicht 
menuTitle: "Layout" # Falls Titel zulang ist, hier Kurztitel
tags: ["ggplot", "layout", "advanced"]  # Tags hiereinsetzen; Kurzwort, was auf der Seite passsiert
---



<p>{{% buttonGit href="https://gitlab.ub.uni-giessen.de/methoden-politik/einstieg-in-r/issues/new?issue[title]=" icon="fas fa-bug" %}} {{% /buttonGit %}}</p>
<p>{{% button href="https://twitter.com/intent/tweet" icon="fab fa-twitter" %}} {{% /button %}}</p>
<p>{{% buttonGit href="https://www.facebook.com/sharer/sharer.php?u=" icon="fab fa-facebook" %}} {{% /buttonGit %}}</p>
<p>Innerhalb eines <code>ggplots</code> können nahezu alle dargestellten Teilbereiche verändert und angepasst werden. Einige dieser Änderungen werden wie im nachfolgenden besprechen.</p>
<p>Dazu schaffen wir uns zuerst nochmal ein ggplot-Objekt mit unserem Scatterplot aus der Einführung in <code>ggplot</code>:</p>
<pre class="r"><code>scatter &lt;- ggplot(
  pss, 
  aes(
    stfeco, 
    stfdem
  )
) +  
  geom_jitter(
    alpha = .2, 
    col = &quot;blue&quot;
  ) +
  scale_x_continuous(
    breaks = seq(
      0, 
      10, 
      1
    )
  ) +
  scale_y_continuous(
    breaks = seq(
      0, 
      10, 
      1
    )
  )

scatter</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/base-scatter-1.png" width="672" /></p>
<p>Zuerst fügen wir nochmals Titel, Achsenbeschriftung und Quellen hinzu.</p>
<pre class="r"><code>scatterLeg &lt;- scatter +
  labs(
       x = &quot;Satisfaction with Economy&quot;,
       y = &quot;Satisfaction with Democracy&quot;,
       title = &quot;Correlation Plot&quot;,
       caption = &quot;Data: Panem Social Survey.\n Data jittered.&quot;
       )

scatterLeg</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/legends-1.png" width="672" /></p>
<p>Innerhalb der Funktion <code>theme()</code> können wir Teilbereiche des Plots ansprechen und ändern. Dies umfasst u.a. folgende Eigenschaften des Plots:</p>
<ul>
<li><code>plot.title</code></li>
<li><code>axis.title.x</code> / <code>axis.title.y</code></li>
<li><code>axis.text.x</code> / <code>axis.text.y</code></li>
<li><code>panel.grid</code> / <code>panel.grid.minor</code> / <code>panel.grid.major</code></li>
<li><code>plot.background</code> / <code>panel.background</code></li>
</ul>
<p>{{% notice tip %}}
Eine komplette Übersicht aller Einstellungen die in <code>theme()</code> genutzt werden können findet sich in der
<a href="https://ggplot2.tidyverse.org/reference/theme.html">User-Dokumentation</a>.
{{% /notice %}}</p>
<p>Wir werden jetzt nach und nach Veränderungen vornehmen. Zuerst werden wir die Schriftgröße, Position und das Erscheinungsbild des Titels ändern. Dies machen wir über <code>plot.title</code> in <code>theme()</code>. Dazu verwenden wir die Funktion <code>element_text()</code>:</p>
<pre class="r"><code>scatterLeg +
  theme(
    plot.title = element_text(
      size = 25,
      face = &quot;italic&quot;,
      hjust = 0.5
    )
  )</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/title-1.png" width="672" /></p>
<p>Dazu haben wir die drei Argumente <code>size</code> (Schriftgröße), <code>face</code> (Erscheinungsbild) und <code>hjust</code> (Position) genutzt.</p>
<p>Als nächstes wollen wir die Achsentitel bearbeiten.</p>
<pre class="r"><code>scatterAxes &lt;- scatterLeg +
  theme(
    plot.title = element_text(
      size = 25,
      face = &quot;italic&quot;,
      hjust = 0.5
    ),
    axis.title.x = element_text(
      size = 16, 
      color = &quot;seagreen&quot;, 
      hjust = 0
    ),
    axis.title.y = element_text(
      size = 8, 
      color = rgb(
        0, 
        105, 
        179, 
        maxColorValue = 255
      ), 
      hjust = 1, 
      face = &quot;bold&quot;
    )
  )

scatterAxes</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/axisticks-1.png" width="672" /></p>
<p>Anstatt eine Farbe anzugeben, kann man mit der Funktion <code>rgb()</code> auch den Farbton bestimmen. Alternativ kann man auch den HTML-Code der Farbe innerhalb des Arguments <code>color</code> nutzen.</p>
<pre class="r"><code>scatterLeg +
  theme(
    plot.title = element_text(
      size = 25,
      face = &quot;italic&quot;,
      hjust = 0.5
    ),
    axis.title.x = element_text(
      size = 16, 
      color = &quot;seagreen&quot;, 
      hjust = 0
    ),
    axis.title.y = element_text(
      size = 8, 
      color = &quot;#0069B3&quot;, 
      hjust = 1, 
      face = &quot;bold&quot;
    )
  )</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/axisticks2-1.png" width="672" /></p>
<p>Nun möchten wir weiter experimentieren und die Achsenticks bearbeiten. Dazu nutzen wir <code>axis.ticks.x</code> bzw. <code>axis.ticks.y</code>.</p>
<pre class="r"><code>scatterTicks &lt;- scatterAxes +
  theme(
    axis.text.x = element_text(
      size = 12, 
      angle = 45,
      color = &quot;darkgrey&quot;
    ),
    axis.text.y = element_text(
      size = 11, 
      hjust = 0,
      vjust = 1
    )
  )

scatterTicks</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/axesticks-1.png" width="672" /></p>
<p>Mit dem Argument <code>angle</code> können wir die Achsenbeschriftungen drehen lassen. Mit <code>hjust</code> und <code>vjust</code> können wir die Startposition des Texts ändern.</p>
<p>Als nächstes möchten wir das Grid des Plots ändern, also die Linien. Dazu nutzen wir erstmal das Argument <code>panel.grid</code> und innerhalb des Arguments die Funktion <code>element_line()</code></p>
<pre class="r"><code>scatterGrid &lt;- scatterTicks +
  theme(
    panel.grid = element_line(
      color = &quot;green&quot;,
      size = 1,
      linetype = &quot;solid&quot; # blank, solid, dashed, dotted, dotdash, longdash, twodash 
    )
  )</code></pre>
<pre><code>## Warning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.
## ℹ Please use the `linewidth` argument instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre class="r"><code>scatterGrid</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/grid1-1.png" width="672" /></p>
<p>Mit den Argumenten <code>panel.grid.major</code> und <code>panel.grid.minor</code> können die Haupt- und Hilfslinien getrennt bearbeitet werden. Wenn wir zum Beispiel nur die Hauptlinien wollen, machen wir folgendes:</p>
<pre class="r"><code>scatterGrid &lt;- scatterTicks +
  theme(
    panel.grid.major = element_line(
      color = &quot;green&quot;,
      size = 1,
      linetype = &quot;solid&quot; # blank, solid, dashed, dotted, dotdash, longdash, twodash 
    ),
    panel.grid.minor = element_blank()
  )

scatterGrid</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/grid2-1.png" width="672" /></p>
<p>Man kann auch die Hilfslinien getrennt nach Achsen bearbeiten. Dazu muss man einfach jeweils <code>.x</code> bzw. <code>.y</code> beifügen.</p>
<p>Zuletzt kann man noch den Hintergrund des Plots bzw. des Panels ändern. Dies geschieht über die Argumente <code>plot.background</code> bzw. <code>panel.background</code>. Dazu nutzt man die Funktion <code>element_rect()</code> innerhalb des Arguments</p>
<pre class="r"><code>scatterGrid +
  theme(
    plot.background = element_rect(
      color =&quot;darkgray&quot;,
      size = 2,
      fill = &quot;lightpink&quot;
    ),
    panel.background = element_rect(
      fill = &quot;moccasin&quot;
    )
  )</code></pre>
<pre><code>## Warning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.
## ℹ Please use the `linewidth` argument instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## Warning: Removed 96 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="/statsplus/lb5/chapter2/Page-1_files/figure-html/background-1.png" width="672" /></p>
<p>Es gibt ebenso eine ganze Reihe an vorgefertigten Themes, die dann wiederum individuell angepasst werden können.</p>
<p>{{% notice tip %}}
Eine Übersicht über vorhandene Themes gibt es <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">hier</a>.
{{% /notice %}}</p>
